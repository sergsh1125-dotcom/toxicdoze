<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–†—ñ–≤–Ω—ñ –Ω–µ–±–µ–∑–ø–µ—á–Ω–æ–≥–æ –≤–ø–ª–∏–≤—É –±–æ–π–æ–≤–∏—Ö –æ—Ç—Ä—É–π–Ω–∏—Ö —Ä–µ—á–æ–≤–∏–Ω: AEGL1, AEGL2, AEGL3</title>
    <style>
        /* ------------------------------------- */
        /* –ë–ê–ó–û–í–Ü –°–¢–ò–õ–Ü –¢–ê –ê–î–ê–ü–¢–ò–í–ù–Ü–°–¢–¨ (CSS) */
        /* ------------------------------------- */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 10px;
            background-color: #f4f4f9;
        }
        .container {
            width: 100%;
            max-width: 800px; 
            margin: 0 auto;
            padding: 20px;
            background-color: #fff;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
        h2 {
            color: #007bff;
            text-align: center;
            border-bottom: 3px solid #007bff;
            padding-bottom: 15px;
            margin-bottom: 25px;
            font-size: 1.5em;
        }
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #333;
            font-size: 1em;
        }
        select {
            width: 100%;
            padding: 12px;
            margin-bottom: 15px;
            border-radius: 6px;
            border: 1px solid #ccc;
            box-sizing: border-box;
            font-size: 1em;
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23007bff%22%20d%3D%22M287%20198.8H5.4c-7.7%200-11.7-9.2-6.1-14.8L140.2%206.1c5.6-5.6%2014.8-5.6%2020.4%200l140.9%20177.8c5.6%205.6%201.6%2014.9-6.1%2014.9z%22%2F%3E%3C%2Fsvg%3E');
            background-repeat: no-repeat;
            background-position: right 10px center;
            background-size: 10px;
            padding-right: 30px;
        }
        .controls-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 15px;
            margin-bottom: 20px;
        }
        @media (min-width: 600px) {
            .controls-grid {
                grid-template-columns: 1fr 1fr; /* 2 –∫–æ–ª–æ–Ω–∫–∏ –Ω–∞ –≤–µ–ª–∏–∫–∏—Ö –µ–∫—Ä–∞–Ω–∞—Ö */
            }
        }
        .button-group {
            display: flex;
            flex-direction: column; 
            gap: 10px;
            grid-column: 1 / -1; /* –ö–Ω–æ–ø–∫–∏ –∑–∞–π–º–∞—é—Ç—å –≤—Å—é —à–∏—Ä–∏–Ω—É */
        }
        @media (min-width: 500px) {
            .button-group {
                flex-direction: row;
            }
        }
        .button-group button {
            flex-grow: 1;
            padding: 14px;
            border: none;
            border-radius: 6px;
            font-size: 1em;
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        /* ------------------------------------- */
        /* –°–¢–ò–õ–Ü –ö–ù–û–ü–û–ö –¢–ê –°–ï–ö–¶–Ü–á –Ü–ù–°–¢–†–£–ö–¶–Ü–á */
        /* ------------------------------------- */
        #load-btn { background-color: #28a745; color: white; }
        #clear-btn { background-color: #dc3545; color: white; }
        #manual-btn { 
            background-color: #ffc107; 
            color: #333; 
        }
        #manual-btn:hover {
            background-color: #e0a800;
        }
        #load-btn:hover { background-color: #1e7e34; }
        #clear-btn:hover { background-color: #c82333; }

        /* –°—Ç–∏–ª—ñ –¥–ª—è –±–ª–æ–∫—É —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó */
        .manual-section {
            margin-top: 20px;
            padding: 20px;
            border: 1px solid #ffc107;
            border-radius: 8px;
            background-color: #fff8e1;
            display: none; /* –°–ø–æ—á–∞—Ç–∫—É –ø—Ä–∏—Ö–æ–≤–∞–Ω–∏–π */
        }
        .manual-section h3 {
            color: #856404;
            border-bottom: 1px dashed #ffc107;
            padding-bottom: 10px;
        }
        .manual-section ol {
            padding-left: 20px;
        }
        .manual-section li {
            margin-bottom: 8px;
        }

        /* ------------------------------------- */
        /* –°–¢–ò–õ–Ü –†–ï–ó–£–õ–¨–¢–ê–¢–£ */
        /* ------------------------------------- */
        .result {
            margin-top: 30px;
            padding: 15px;
            border: 2px solid #007bff;
            border-radius: 8px;
            background-color: #e6f2ff;
            display: none;
            overflow-x: auto; 
        }
        .result h3 {
            color: #004d99;
            margin-top: 0;
            border-bottom: 1px dashed #007bff;
            padding-bottom: 5px;
            text-align: center;
        }
        table {
            width: 100%;
            min-width: 600px;
            border-collapse: collapse;
            margin: 15px 0;
            text-align: center;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 10px 5px; 
            font-size: 0.9em;
        }
        th {
            background-color: #007bff;
            color: white;
            font-weight: bold;
        }
        .concentration-cell {
            font-weight: bold;
        }
        /* –ö–æ–ª—å–æ—Ä–∏ —Ñ–æ–Ω—É –¥–ª—è —Ä—ñ–≤–Ω—ñ–≤ AEGL */
        .aegl1-bg { background-color: #d1e7dd; color: #0f5132; } /* –ó–µ–ª–µ–Ω–∏–π - –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π —Ä–∏–∑–∏–∫ */
        .aegl2-bg { background-color: #fff3cd; color: #664d03; } /* –ñ–æ–≤—Ç–∏–π - —Å–µ—Ä–π–æ–∑–Ω–∏–π —Ä–∏–∑–∏–∫ */
        .aegl3-bg { background-color: #f8d7da; color: #842029; } /* –ß–µ—Ä–≤–æ–Ω–∏–π - –∂–∏—Ç—Ç—î–≤–∞ –Ω–µ–±–µ–∑–ø–µ–∫–∞ */
        
        .time-cell {
            background-color: #cceeff;
            font-weight: 500;
        }
        .not-recommended {
            background-color: #e9ecef;
            color: #6c757d;
            font-style: italic;
        }
    </style>
</head>
<body>

<div class="container">
    <h2>‚ò£Ô∏è –†—ñ–≤–Ω—ñ –Ω–µ–±–µ–∑–ø–µ—á–Ω–æ–≥–æ –≤–ø–ª–∏–≤—É –±–æ–π–æ–≤–∏—Ö –æ—Ç—Ä—É–π–Ω–∏—Ö —Ä–µ—á–æ–≤–∏–Ω: AEGL1, AEGL2, AEGL3
        (—Ä–æ–∑—Ä–∞—Ö–æ–≤–∞–Ω—ñ –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü—ñ—ó –ë–û–† —É –ø–æ–≤—ñ—Ç—Ä—ñ —Ç–∞ –≤–∏–∑–Ω–∞—á–µ–Ω–æ–≥–æ —á–∞—Å—É –∑–Ω–∞—Ö–æ–¥–∂–µ–Ω–Ω—è –ª—é–¥–∏–Ω–∏ —É –∑–∞–±—Ä—É–¥–Ω–µ–Ω—ñ–π –∑–æ–Ω—ñ –±–µ–∑ –ó–Ü–ó)</h2>

    <div class="controls-grid">
        <div>
            <label for="chemical-select">1. –û–±–µ—Ä—ñ—Ç—å –±–æ–π–æ–≤—É –æ—Ç—Ä—É–π–Ω—É —Ä–µ—á–æ–≤–∏–Ω—É:</label>
            <select id="chemical-select"></select>
        </div>
        <div>
            <label for="aegl-level-select">2. –û–±–µ—Ä—ñ—Ç—å —Ä—ñ–≤–µ–Ω—å AEGL:</label>
            <select id="aegl-level-select">
                <option value="AEGL1" selected>AEGL-1 (–ü–æ—Ä–æ–≥–æ–≤—ñ –æ–∑–Ω–∞–∫–∏ –æ—Ç—Ä—É—î–Ω–Ω—è)</option>
                <option value="AEGL2">AEGL-2 (–°–µ—Ä–µ–¥–Ω—ñ –Ω–∞—Å–ª—ñ–¥–∫–∏ –æ—Ç—Ä—É—î–Ω–Ω—è)</option>
                <option value="AEGL3">AEGL-3 (–í–∞–∂–∫—ñ –Ω–∞—Å–ª—ñ–¥–∫–∏ –æ—Ç—Ä—É—î–Ω–Ω—è/–°–º–µ—Ä—Ç—å)</option>
            </select>
        </div>
        <div class="button-group">
            <button id="load-btn" onclick="loadAEGLData()">–ó–ê–í–ê–ù–¢–ê–ñ–ò–¢–ò –î–ê–ù–Ü</button>
            <button id="manual-btn" onclick="toggleManual()">–î–û–í–Ü–î–ö–ê</button>
            <button id="clear-btn" onclick="clearForm()">–û–ß–ò–°–¢–ò–¢–ò</button>
        </div>
    </div>

    <div class="manual-section" id="manual-section">
        <h3>üìñ –î–û–í–Ü–î–ö–ê</h3>
        <ol>
            <li>–ê–ì–ï–ù–¢–°–¢–í–û–ú –ó –û–•–û–†–û–ù–ò –ù–ê–í–ö–û–õ–ò–®–ù–¨–û–ì–û –°–ï–†–ï–î–û–í–ò–©–ê –°–®–ê –†–û–ó–†–û–ë–õ–ï–ù–û –¢–ê–ë–õ–ò–¶–Æ –∑ –ø–æ—Ä–æ–≥–æ–≤–∏–º–∏ –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü—ñ—è–º–∏ –±–æ–π–æ–≤–∏—Ö –æ—Ç—Ä—É–π–Ω–∏—Ö —Ä–µ—á–æ–≤–∏–Ω (–º–≥/–º^3) —Ç–∞ —á–∞—Å—É –∑–Ω–∞—Ö–æ–¥–∂–µ–Ω–Ω—è –ª—é–¥–∏–Ω–∏ –±–µ–∑ –∑–∞—Å–æ–±—ñ–≤ —ñ–Ω–¥–∏–≤—ñ–¥—É–∞–ª—å–Ω–æ–≥–æ –∑–∞—Ö–∏—Å—Ç—É —É –∑–æ–Ω—ñ —Ö—ñ–º—ñ—á–Ω–æ–≥–æ –∑–∞–±—Ä—É–¥–Ω–µ–Ω–Ω—è —ñ–∑ –∑–∞–∑–Ω–∞—á–µ–Ω–∏–º–∏ –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü—ñ—è–º–∏ –ë–û–† (10 —Ö–≤–∏–ª–∏–Ω, 30 —Ö–≤–∏–ª–∏–Ω, 60 —Ö–≤–∏–ª–∏–Ω, 4 –≥–æ–¥–∏–Ω, 8 –≥–æ–¥–∏–Ω), —â–æ –ø—Ä–∏–∑–≤–µ–¥–µ –¥–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ–≥–æ —Ä—ñ–≤–Ω—è –Ω–µ–±–µ–∑–ø–µ—á–Ω–æ–≥–æ –≤–ø–ª–∏–≤—É: **AEGL-1** (–ø–æ—Ä–æ–≥–æ–≤—ñ –æ–∑–Ω–∞–∫–∏ –æ—Ç—Ä—É—î–Ω–Ω—è), **AEGL-2** (—Å–µ—Ä–µ–¥–Ω—ñ –Ω–∞—Å–ª—ñ–¥–∫–∏ –æ—Ç—Ä—É—î–Ω–Ω—è), **AEGL-3** (–≤–∞–∂–∫—ñ –Ω–∞—Å–ª—ñ–¥–∫–∏ –æ—Ç—Ä—É—î–Ω–Ω—è/—Å–º–µ—Ä—Ç—å). –ó–≤–µ—Ä–Ω—ñ—Ç—å —É–≤–∞–≥—É, —â–æ –¥–ª—è –§–æ—Å–≥–µ–Ω—É (CG) —Ä—ñ–≤–µ–Ω—å AEGL-1 –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∏–π (NR).</li>
        </ol>
        </div>

    <div class="result" id="result-output">
        <h3 id="result-title"></h3>
        <table>
            <thead>
                <tr>
                    <th colspan="5" id="aegl-description-header"></th>
                </tr>
                <tr>
                    <th>10 —Ö–≤</th>
                    <th>30 —Ö–≤</th>
                    <th>60 —Ö–≤</th>
                    <th>4 –≥–æ–¥ (240 —Ö–≤)</th>
                    <th>8 –≥–æ–¥ (480 —Ö–≤)</th>
                </tr>
            </thead>
            <tbody id="aegl-table-body">
                <tr id="concentration-row"></tr>
                <tr id="time-row"></tr>
            </tbody>
        </table>
    </div>
</div>

<script>
    /* ---------------------------------------------------- */
    /* –ú–ê–¢–†–ò–¶–Ø –î–ê–ù–ò–• */
    /* ---------------------------------------------------- */
    
    // –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –ø–æ–∑–Ω–∞—á–µ–Ω–Ω—è "–ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ" (NR)
    const NR_DATA = [ 
        { time: 10, conc: NaN }, 
        { time: 30, conc: NaN }, 
        { time: 60, conc: NaN }, 
        { time: 240, conc: NaN }, 
        { time: 480, conc: NaN } 
    ];

    const AEGL_DATA = {
        "–ó–∞—Ä—ñ–Ω (GB)": {
            "AEGL1": [ { time: 10, conc: 0.0069 }, { time: 30, conc: 0.0040 }, { time: 60, conc: 0.0028 }, { time: 240, conc: 0.0014 }, { time: 480, conc: 0.0010 } ],
            "AEGL2": [ { time: 10, conc: 0.087 }, { time: 30, conc: 0.050 }, { time: 60, conc: 0.035 }, { time: 240, conc: 0.017 }, { time: 480, conc: 0.013 } ],
            "AEGL3": [ { time: 10, conc: 0.38 }, { time: 30, conc: 0.19 }, { time: 60, conc: 0.13 }, { time: 240, conc: 0.070 }, { time: 480, conc: 0.051 } ]
        },
        "–ó–æ–º–∞–Ω (GD)": {
            "AEGL1": [ { time: 10, conc: 0.0035 }, { time: 30, conc: 0.0020 }, { time: 60, conc: 0.0014 }, { time: 240, conc: 0.00070 }, { time: 480, conc: 0.00050 } ],
            "AEGL2": [ { time: 10, conc: 0.044 }, { time: 30, conc: 0.025 }, { time: 60, conc: 0.018 }, { time: 240, conc: 0.0085 }, { time: 480, conc: 0.0065 } ],
            "AEGL3": [ { time: 10, conc: 0.38 }, { time: 30, conc: 0.19 }, { time: 60, conc: 0.13 }, { time: 240, conc: 0.070 }, { time: 480, conc: 0.051 } ]
        },
        "VX-–≥–∞–∑": {
            "AEGL1": [ { time: 10, conc: 0.00057 }, { time: 30, conc: 0.00033 }, { time: 60, conc: 0.00017 }, { time: 240, conc: 0.00010 }, { time: 480, conc: 0.000071 } ],
            "AEGL2": [ { time: 10, conc: 0.0072 }, { time: 30, conc: 0.0042 }, { time: 60, conc: 0.0029 }, { time: 240, conc: 0.0015 }, { time: 480, conc: 0.0010 } ],
            "AEGL3": [ { time: 10, conc: 0.029 }, { time: 30, conc: 0.015 }, { time: 60, conc: 0.010 }, { time: 240, conc: 0.0052 }, { time: 480, conc: 0.0038 } ]
        },
        "–§–æ—Å–≥–µ–Ω (CG)": {
            "AEGL1": NR_DATA, // –ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ (NR)
            "AEGL2": [ { time: 10, conc: 2.43 }, { time: 30, conc: 2.43 }, { time: 60, conc: 1.21 }, { time: 240, conc: 0.32 }, { time: 480, conc: 0.16 } ],
            "AEGL3": [ { time: 10, conc: 14.57 }, { time: 30, conc: 6.07 }, { time: 60, conc: 3.03 }, { time: 240, conc: 0.81 }, { time: 480, conc: 0.36 } ]
        },
        "–°–∏–Ω–∏–ª—å–Ω–∞ –∫–∏—Å–ª–æ—Ç–∞ (HCN)": {
            "AEGL1": [ { time: 10, conc: 2.76 }, { time: 30, conc: 2.76 }, { time: 60, conc: 2.21 }, { time: 240, conc: 1.4 }, { time: 480, conc: 1.11 } ],
            "AEGL2": [ { time: 10, conc: 18.78 }, { time: 30, conc: 11.05 }, { time: 60, conc: 7.85 }, { time: 240, conc: 3.87 }, { time: 480, conc: 2.76 } ],
            "AEGL3": [ { time: 10, conc: 29.84 }, { time: 30, conc: 23.21 }, { time: 60, conc: 16.76 }, { time: 240, conc: 9.50 }, { time: 480, conc: 7.29 } ]
        },
        "–Ü–ø—Ä–∏—Ç (HD)": {
            "AEGL1": [ { time: 10, conc: 0.40 }, { time: 30, conc: 0.13 }, { time: 60, conc: 0.067 }, { time: 240, conc: 0.017 }, { time: 480, conc: 0.0083 } ],
            "AEGL2": [ { time: 10, conc: 0.60 }, { time: 30, conc: 0.20 }, { time: 60, conc: 0.10 }, { time: 240, conc: 0.025 }, { time: 480, conc: 0.013 } ],
            "AEGL3": [ { time: 10, conc: 3.9 }, { time: 30, conc: 2.7 }, { time: 60, conc: 2.1 }, { time: 240, conc: 0.53 }, { time: 480, conc: 0.27 } ]
        },
        "–ê–¥–∞–º—Å—ñ—Ç (DM)": {
            "AEGL1": [ { time: 10, conc: 0.20 }, { time: 30, conc: 0.041 }, { time: 60, conc: 0.016 }, { time: 240, conc: 0.0022 }, { time: 480, conc: 0.00083 } ],
            "AEGL2": [ { time: 10, conc: 9.7 }, { time: 30, conc: 6.8 }, { time: 60, conc: 2.6 }, { time: 240, conc: 0.36 }, { time: 480, conc: 0.14 } ],
            "AEGL3": [ { time: 10, conc: 21.0 }, { time: 30, conc: 17.0 }, { time: 60, conc: 6.4 }, { time: 240, conc: 0.91 }, { time: 480, conc: 0.34 } ]
        }
    };

    const AEGL_DESCRIPTIONS = {
        "AEGL1": "AEGL-1: –ü–æ—Ä–æ–≥–æ–≤–∞ –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü—ñ—è, —â–æ –≤–∏–∫–ª–∏–∫–∞—î –ø–æ–º—ñ—Ä–Ω–∏–π –¥–∏—Å–∫–æ–º—Ñ–æ—Ä—Ç (–∑–≤–æ—Ä–æ—Ç–Ω—ñ –µ—Ñ–µ–∫—Ç–∏)",
        "AEGL2": "AEGL-2: –ü–æ—Ä–æ–≥–æ–≤–∞ –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü—ñ—è, —â–æ –≤–∏–∫–ª–∏–∫–∞—î —Å–µ—Ä–π–æ–∑–Ω—ñ –Ω–∞—Å–ª—ñ–¥–∫–∏ –∞–±–æ –Ω–µ–¥—ñ—î–∑–¥–∞—Ç–Ω—ñ—Å—Ç—å",
        "AEGL3": "AEGL-3: –ü–æ—Ä–æ–≥–æ–≤–∞ –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü—ñ—è, —â–æ —Å—Ç–≤–æ—Ä—é—î –∑–∞–≥—Ä–æ–∑—É –∂–∏—Ç—Ç—é –∞–±–æ —Å–º–µ—Ä—Ç—å"
    };

    /**
     * –ö–æ–Ω–≤–µ—Ä—Ç—É—î –∑–∞–≥–∞–ª—å–Ω—É –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Ö–≤–∏–ª–∏–Ω —É —Ñ–æ—Ä–º–∞—Ç "–ì–ì –≥–æ–¥ –ú–ú —Ö–≤".
     */
    function convertMinutesToHms(totalMinutes) {
        let hours = Math.floor(totalMinutes / 60);
        let minutes = totalMinutes % 60;
        
        let result = [];
        if (hours > 0) result.push(`${hours} –≥–æ–¥`);
        if (minutes > 0 || (hours === 0 && totalMinutes === 0)) result.push(`${minutes} —Ö–≤`);
        
        return result.join(' ');
    }

    // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –≤–∏–ø–∞–¥–∞—é—á–æ–≥–æ —Å–ø–∏—Å–∫—É –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ
    function populateChemicalSelect() {
        const selectElement = document.getElementById('chemical-select');
        selectElement.innerHTML = '';
        
        const defaultOption = document.createElement('option');
        defaultOption.value = "";
        defaultOption.textContent = "--- –û–±–µ—Ä—ñ—Ç—å —Ä–µ—á–æ–≤–∏–Ω—É ---";
        selectElement.appendChild(defaultOption);

        const sortedKeys = Object.keys(AEGL_DATA).sort();
        sortedKeys.forEach(name => {
            const option = document.createElement('option');
            option.value = name;
            option.textContent = name;
            selectElement.appendChild(option);
        });
    }

    // –û–°–ù–û–í–ù–ê –§–£–ù–ö–¶–Ü–Ø: –ó–ê–í–ê–ù–¢–ê–ñ–ï–ù–ù–Ø –î–ê–ù–ò–• (–ü–ï–†–ï–í–Ü–†–ï–ù–û, –ü–†–ê–¶–Æ–Ñ –ö–û–†–ï–ö–¢–ù–û)
    function loadAEGLData() {
        const chemicalName = document.getElementById('chemical-select').value;
        const aeglLevel = document.getElementById('aegl-level-select').value;
        const resultOutput = document.getElementById('result-output');
        const manualSection = document.getElementById('manual-section');
        const concentrationRow = document.getElementById('concentration-row');
        const timeRow = document.getElementById('time-row');

        if (!chemicalName) {
            alert("–ë—É–¥—å –ª–∞—Å–∫–∞, –æ–±–µ—Ä—ñ—Ç—å –±–æ–π–æ–≤—É –æ—Ç—Ä—É–π–Ω—É —Ä–µ—á–æ–≤–∏–Ω—É.");
            resultOutput.style.display = 'none';
            return; // –í–∏—Ö—ñ–¥, —è–∫—â–æ —Ä–µ—á–æ–≤–∏–Ω–∞ –Ω–µ –æ–±—Ä–∞–Ω–∞
        }

        const data = AEGL_DATA[chemicalName][aeglLevel];

        // –ü—Ä–∏—Ö–æ–≤—É—î–º–æ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—é, —è–∫—â–æ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—é—Ç—å—Å—è –¥–∞–Ω—ñ
        manualSection.style.display = 'none';
        document.getElementById('manual-btn').textContent = '–î–û–í–Ü–î–ö–ê';

        // –û—á–∏—â–µ–Ω–Ω—è —Ç–∞ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–≥–æ–ª–æ–≤–∫—ñ–≤
        concentrationRow.innerHTML = '';
        timeRow.innerHTML = '';
        document.getElementById('result-title').textContent = `–ü–æ—Ä–æ–≥–æ–≤—ñ –ø–æ–∫–∞–∑–Ω–∏–∫–∏ ${aeglLevel} –¥–ª—è ${chemicalName}`;
        document.getElementById('aegl-description-header').textContent = AEGL_DESCRIPTIONS[aeglLevel];
        
        // –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∫–æ–ª—å–æ—Ä—É —Ñ–æ–Ω—É –¥–ª—è —Ç–∞–±–ª–∏—Ü—ñ
        const resultTableBody = document.getElementById('aegl-table-body');
        resultTableBody.className = ''; 
        resultTableBody.classList.add(`${aeglLevel.toLowerCase()}-bg`);


        data.forEach(item => {
            const concCell = document.createElement('td');
            const timeCell = document.createElement('td');
            
            // –Ø–∫—â–æ –¥–∞–Ω—ñ –≤—ñ–¥—Å—É—Ç–Ω—ñ/–Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω—ñ (NaN)
            if (isNaN(item.conc)) {
                concCell.textContent = 'NR';
                concCell.classList.add('not-recommended');
                timeCell.textContent = convertMinutesToHms(item.time);
                timeCell.classList.add('time-cell');
            } else {
                // –í–∏–∑–Ω–∞—á–∞—î–º–æ —Ç–æ—á–Ω—ñ—Å—Ç—å –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è
                let precision = 4; // –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞ —Ç–æ—á–Ω—ñ—Å—Ç—å
                if (chemicalName.includes('VX')) {
                    precision = 6;
                } else if (item.conc >= 1) {
                    precision = 3; // –ú–µ–Ω—à–∞ —Ç–æ—á–Ω—ñ—Å—Ç—å –¥–ª—è –≤–∏—Å–æ–∫–∏—Ö –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü—ñ–π
                } else if (item.conc < 0.01) {
                    precision = 6; // –ë—ñ–ª—å—à–∞ —Ç–æ—á–Ω—ñ—Å—Ç—å –¥–ª—è –º–∞–ª–∏—Ö –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü—ñ–π
                }
                
                // –î–æ–¥–∞–≤–∞–Ω–Ω—è –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü—ñ—ó
                concCell.classList.add('concentration-cell');
                concCell.textContent = `${item.conc.toFixed(precision).replace(/\.?0+$/, '')} –º–≥/–º¬≥`; 
                
                // –î–æ–¥–∞–≤–∞–Ω–Ω—è —á–∞—Å—É (–∫–æ–Ω–≤–µ—Ä—Ç–æ–≤–∞–Ω–æ–≥–æ)
                timeCell.classList.add('time-cell');
                timeCell.textContent = convertMinutesToHms(item.time);
            }
            
            concentrationRow.appendChild(concCell);
            timeRow.appendChild(timeCell);
        });

        resultOutput.style.display = 'block';
    }

    // –§–£–ù–ö–¶–Ü–Ø: –ü–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó
    function toggleManual() {
        const manualSection = document.getElementById('manual-section');
        const resultOutput = document.getElementById('result-output');
        
        // –ü–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è –≤–∏–¥–∏–º–æ—Å—Ç—ñ
        if (manualSection.style.display === 'block') {
            manualSection.style.display = 'none';
            document.getElementById('manual-btn').textContent = '–î–û–í–Ü–î–ö–ê';
        } else {
            manualSection.style.display = 'block';
            resultOutput.style.display = 'none'; // –ü—Ä–∏—Ö–æ–≤—É—î–º–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–∏ –≤—ñ–¥–∫—Ä–∏—Ç—Ç—ñ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó
            document.getElementById('manual-btn').textContent = '–ü–†–ò–•–û–í–ê–¢–ò –î–û–í–Ü–î–ö–£';
        }
    }

    // –§–£–ù–ö–¶–Ü–Ø –û–ß–ò–©–ï–ù–ù–Ø
    function clearForm() {
        document.getElementById('chemical-select').value = "";
        document.getElementById('aegl-level-select').value = "AEGL1";
        document.getElementById('result-output').style.display = 'none';
        document.getElementById('concentration-row').innerHTML = '';
        document.getElementById('time-row').innerHTML = '';
        document.getElementById('aegl-table-body').className = '';
        
        // –ü—Ä–∏—Ö–æ–≤—É—î–º–æ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—é –ø—Ä–∏ –æ—á–∏—â–µ–Ω–Ω—ñ
        document.getElementById('manual-section').style.display = 'none';
        document.getElementById('manual-btn').textContent = '–î–û–í–Ü–î–ö–ê';
    }

    // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –¥–∞–Ω–∏—Ö –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏
    window.onload = populateChemicalSelect;
</script>

</body>
</html>
